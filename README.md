# Telegram Bot для управления периодическими событиями сотрудников

## 🎯 Описание проекта

Telegram бот для автоматизированного управления периодическими событиями сотрудников (медосмотры, инструктажи, обучение и т.д.) с системой уведомлений, аналитикой и экспортом данных.

## ✨ Основные возможности

- 📅 **Управление событиями** - Отслеживание периодических событий сотрудников
- 🔔 **Система уведомлений** - Автоматические напоминания (90-30-7-3 дня до события)
- 📊 **Расширенная аналитика** - Тренды, прогнозы, эффективность
- 📄 **Экспорт в Excel** - Профессиональные отчеты с форматированием
- 🔍 **Умный поиск** - Фильтрация и текстовый поиск
- 📋 **Шаблоны событий** - Готовые шаблоны для разных должностей
- 📊 **Дашборд** - Интерактивная панель управления
- 🤖 **Автоматические отчеты** - Ежедневные, еженедельные, месячные отчеты

## 🏗️ Структура проекта

```
telegram_bot/
├── main.py                 # Точка входа в приложение
├── requirements.txt        # Зависимости Python
├── .env.example           # Пример файла окружения
├── .gitignore             # Игнорируемые файлы
│
├── core/                  # Ядро системы
│   ├── database.py        # Работа с базой данных
│   ├── security.py        # Шифрование и безопасность
│   ├── utils.py           # Утилиты
│   └── config.py          # Конфигурация
│
├── handlers/              # Обработчики команд бота
│   ├── menu_handlers.py   # Главное меню и навигация
│   ├── employee_handlers.py # Управление сотрудниками
│   ├── event_handlers.py  # События
│   ├── analytics_handlers.py # Аналитика
│   ├── dashboard_handlers.py # Дашборд
│   ├── search_handlers.py # Поиск
│   ├── export_handlers.py # Экспорт данных
│   ├── reports_handlers.py # Автоматические отчеты
│   └── template_handlers.py # Шаблоны
│
├── managers/              # Бизнес-логика
│   ├── database_manager.py # Менеджер БД
│   ├── notification_manager.py # Уведомления
│   ├── employee_manager.py # Управление сотрудниками
│   ├── event_manager.py   # Управление событиями
│   ├── export_manager.py  # Экспорт данных
│   ├── search_manager.py  # Поиск и фильтрация
│   ├── template_manager.py # Шаблоны событий
│   ├── advanced_analytics_manager.py # Продвинутая аналитика
│   └── automated_reports_manager.py # Автоматические отчеты
│
├── config/                # Конфигурационные файлы
│   └── positions.json     # Должности и шаблоны событий
│
├── models/                # Модели данных
│   └── employee.py        # Модель сотрудника
│
├── tests/                 # Тесты
│   ├── test_analytics.py
│   ├── test_analytics_export.py
│   ├── test_advanced_forecast.py
│   ├── test_automated_reports.py
│   ├── test_modular.py
│   ├── test_temporal_charts.py
│   └── test_text_search.py
│
├── archive/               # Архивные файлы
│   ├── backup_monolithic_*
│   ├── main_old.py
│   ├── phase1_improvements.py
│   ├── transition_to_modular.py
│   └── setup_bot.py
│
└── docs/                  # Документация
    ├── README.md
    ├── README_MODULAR.md
    ├── DASHBOARD_COMPLETE.md
    ├── SEARCH_UPGRADE.md
    └── ЗАПУСК.md
```

## 🚀 Быстрый старт

### 1. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 2. Настройка окружения

Скопируйте `.env.example` в `.env` и заполните необходимые переменные:

```bash
cp .env.example .env
```

Отредактируйте `.env` файл:
```env
BOT_TOKEN=your_bot_token_here
ADMIN_IDS=123456789,987654321
CHAT_ID=your_chat_id
```

### 3. Запуск бота

```bash
python main.py
```

## 📋 Требования

- Python 3.8+
- SQLite 3
- Telegram Bot Token
- Интернет соединение

## 🔧 Основные зависимости

- `python-telegram-bot==20.7` - Telegram Bot API
- `cryptography==41.0.7` - Шифрование данных
- `xlsxwriter==3.1.9` - Создание Excel файлов
- `openpyxl==3.1.2` - Чтение Excel файлов
- `pytz==2023.3` - Работа с часовыми поясами

## 📊 Функциональность

### Для всех пользователей:
- Просмотр своих предстоящих событий
- Получение уведомлений
- Справочная информация

### Для администраторов:
- Управление сотрудниками и событиями
- Расширенная аналитика и прогнозы
- Экспорт данных в Excel
- Настройка системы уведомлений
- Автоматические отчеты

## 🔒 Безопасность

- Данные сотрудников шифруются в базе данных
- Контроль доступа на основе ролей
- Логирование всех операций
- Защищенное хранение конфигурации

## 📞 Поддержка

Для получения помощи:
1. Ознакомьтесь с документацией в папке `docs/`
2. Проверьте логи бота: `bot.log`
3. Запустите тесты: `python -m pytest tests/`

## 📝 Лицензия

Проект разработан для внутреннего использования.

## 🔄 Версионирование

Текущая версия: **2.0** (Модульная архитектура)

---

**Разработано с ❤️ для автоматизации управления персоналом**